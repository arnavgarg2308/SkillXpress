<!DOCTYPE html>
<html>
<head>
<title>AI Roadmap</title>
<style>
body{font-family:sans-serif;background:#eef2ff}
.card{max-width:650px;margin:40px auto;background:#fff;
padding:25px;border-radius:14px;box-shadow:0 15px 40px #0002}
.badge{background:#e0e7ff;padding:6px 12px;border-radius:20px;margin:4px;display:inline-block}
.note{background:#f0f9ff;padding:14px;border-left:4px solid #0ea5e9;margin-top:12px}
button{background:#4f46e5;color:#fff;border:none;padding:12px 20px;border-radius:8px;cursor:pointer}
</style>
</head>
<body>

<div class="card">
  <h2>ðŸ“… Monthly AI Roadmap</h2>
  <div id="roadmapBox">Click Generate</div>
  <br/>
  <button onclick="generate()">Generate Month</button>
</div>

<script>
const USER_ID = "USER_ID_HERE";

async function generate(){
  const res = await fetch(
    "https://skillback.onrender.com/api/roadmap/generate-month",
    {
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify({ userId: USER_ID })
    }
  );
  const data = await res.json();
  if(data.done){
    document.getElementById("roadmapBox").innerHTML =
      "<b>ðŸŽ‰ Job-ready roadmap completed</b>";
    return;
  }
  const r = data.roadmap;

  document.getElementById("roadmapBox").innerHTML = `
    <h3>Month ${r.month} â€“ ${r.phase}</h3>
    ${r.skills.map(s=>`<span class="badge">${s}</span>`).join("")}
    <h4>Tasks</h4>
    <ul>${r.tasks.map(t=>`<li>${t}</li>`).join("")}</ul>
    <h4>Project</h4>
    <p>${r.project}</p>
    <div class="note">ðŸ’¡ ${r.ai_mentor_note}</div>
  `;
}
</script>
</body>
</html>
