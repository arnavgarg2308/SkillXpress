<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SkillNest | Choose Your Interests</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body{
      min-height:100vh;
      background:
        linear-gradient(rgba(99,102,241,0.25),rgba(34,211,238,0.25)),
        url('https://images.unsplash.com/photo-1518770660439-4636190af475');
      background-size:cover;
      background-position:center;
      font-family:'Segoe UI',sans-serif;
    }

    .glass{
      background:rgba(255,255,255,0.9);
      backdrop-filter: blur(14px);
      border-radius:22px;
      box-shadow:0 25px 50px rgba(0,0,0,0.15);
      padding:2.5rem;
    }

    .brand{
      font-weight:900;
      font-size:1.8rem;
      color:#4f46e5;
    }

    .category{
      font-weight:700;
      color:#111827;
      margin-top:1.5rem;
      margin-bottom:0.5rem;
    }

    .form-check-label{
      color:#374151;
    }

    .btn-main{
      background:linear-gradient(135deg,#4f46e5,#22d3ee);
      border:none;
      color:white;
      font-weight:600;
      border-radius:14px;
      padding:12px;
      transition:0.3s;
    }

    .btn-main:hover{
      transform:translateY(-2px);
      box-shadow:0 12px 25px rgba(79,70,229,0.4);
    }
  </style>
</head>
<body>

<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-9 col-md-11">
      <div class="glass">

        <div class="text-center mb-4">
          <div class="brand">Choose Your Career Interests</div>
          <p class="text-muted">Select the roles you are interested in (multiple allowed)</p>
        </div>

        <!-- SOFTWARE DEVELOPMENT -->
       <div class="category">ğŸ”¹ Software Development Roles</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Software Engineer"> Software Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Software Developer"> Software Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Junior Software Developer"> Junior Software Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Associate Software Engineer"> Associate Software Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Application Developer"> Application Developer</div>
</div>

<!-- WEB DEVELOPMENT -->
<div class="category">ğŸŒ Web Development</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Frontend Developer"> Frontend Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Backend Developer"> Backend Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Full Stack Developer"> Full Stack Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Web Developer"> Web Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="MERN Stack Developer"> MERN Stack Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="MEAN Stack Developer"> MEAN Stack Developer</div>
</div>

<!-- MOBILE -->
<div class="category">ğŸ“± Mobile App Development</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Android Developer"> Android Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="iOS Developer"> iOS Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Flutter Developer"> Flutter Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="React Native Developer"> React Native Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Mobile Application Developer"> Mobile Application Developer</div>
</div>

<!-- DATA -->
<div class="category">ğŸ§  Data & Analytics</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Data Analyst"> Data Analyst</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Business Data Analyst"> Business Data Analyst</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Data Scientist"> Data Scientist</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Machine Learning Engineer"> Machine Learning Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="AI Engineer"> AI Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Big Data Engineer"> Big Data Engineer</div>
</div>

<!-- CLOUD -->
<div class="category">â˜ Cloud & DevOps</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Cloud Engineer"> Cloud Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Cloud Solutions Architect"> Cloud Solutions Architect</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="DevOps Engineer"> DevOps Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Site Reliability Engineer"> Site Reliability Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Platform Engineer"> Platform Engineer</div>
</div>

<!-- CYBER -->
<div class="category">ğŸ” Cyber Security</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Cyber Security Analyst"> Cyber Security Analyst</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Information Security Analyst"> Information Security Analyst</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Network Security Engineer"> Network Security Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Ethical Hacker"> Ethical Hacker</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="SOC Analyst"> SOC Analyst</div>
</div>

<!-- DESIGN -->
<div class="category">ğŸ¨ Design & UX</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="UI Designer"> UI Designer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="UX Designer"> UX Designer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="UI/UX Designer"> UI/UX Designer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Product Designer"> Product Designer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Interaction Designer"> Interaction Designer</div>
</div>

<!-- TESTING -->
<div class="category">ğŸ§ª Testing & Quality</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Software Tester"> Software Tester</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="QA Engineer"> QA Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Manual Tester"> Manual Tester</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Automation Test Engineer"> Automation Test Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Performance Tester"> Performance Tester</div>
</div>

<!-- SYSTEMS -->
<div class="category">ğŸ§© Systems & Networking</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="System Engineer"> System Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Network Engineer"> Network Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="IT Support Engineer"> IT Support Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Infrastructure Engineer"> Infrastructure Engineer</div>
</div>

<!-- DATABASE -->
<div class="category">ğŸ—„ Database & Backend Systems</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Database Administrator (DBA)"> Database Administrator (DBA)</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Data Engineer"> Data Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Backend Systems Engineer"> Backend Systems Engineer</div>
</div>

<!-- EMERGING -->
<div class="category">ğŸ¤– Emerging / Advanced Tech</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="AI Engineer"> AI Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="ML Researcher"> ML Researcher</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Blockchain Developer"> Blockchain Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Web3 Developer"> Web3 Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="AR/VR Developer"> AR/VR Developer</div>
</div>

<!-- ENTERPRISE -->
<div class="category">ğŸ›  Enterprise & Business Tech</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="ERP Consultant"> ERP Consultant</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="CRM Developer"> CRM Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Salesforce Developer"> Salesforce Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Business Systems Analyst"> Business Systems Analyst</div>
</div>

<!-- PRODUCT -->
<div class="category">ğŸ“Š Product & Management</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Product Engineer"> Product Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Technical Product Manager"> Technical Product Manager</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Associate Product Manager"> Associate Product Manager</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Program Manager"> Program Manager</div>
</div>

<!-- OTHER -->
<div class="category">ğŸ® Other IT Roles</div>
<div class="row">
  <div class="col-md-4"><input type="checkbox" class="interest" value="Game Developer"> Game Developer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="Embedded Systems Engineer"> Embedded Systems Engineer</div>
  <div class="col-md-4"><input type="checkbox" class="interest" value="IoT Developer"> IoT Developer</div>
</div>

        <div class="text-center mt-4">
          <button class="btn btn-main px-5" onclick="finishOnboarding()">Continue to Dashboard</button>
        </div>

      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="auth.js"></script>
<script>
  async function finishOnboarding(){

  const selected = [...document.querySelectorAll(".interest:checked")]
                  .map(i => i.value);

  if (selected.length !== 2) {
    alert("Select exactly 2 interests");
    return;
  }

  const { data:{session} } = await supabaseClient.auth.getSession();

  await supabaseClient
    .from("profiles")
    .update({ interests: selected })
    .eq("id", session.user.id);

  localStorage.setItem("isNewUser","no");
  window.location.href = "main.html";
}

  
  // ğŸ”’ limit to 2 interests
document.querySelectorAll(".interest").forEach(cb => {
  cb.addEventListener("change", () => {
    if (document.querySelectorAll(".interest:checked").length > 2) {
      cb.checked = false;
      alert("Only 2 interests allowed");
    }
  });
});

</script>

</body>
</html>